#:kivy 2.0.0
ScreenManager:
    id: screen_manager
    HomeScreen:

<HomeScreen>:
    name:'HomeScreen'
    BoxLayout:
        orientation:'vertical'

        MDBottomNavigation:
            id:bottom_nav
            text_color_normal: 1, 0, 0, 0.3
            panel_color: "#f7e9f5"
            selected_color_background: 0,0,0,0
            text_color_active: 1,0,0,1
    
            MDBottomNavigationItem:
                id:home_tab
                name:'Home'
                text:'Home'
                icon:'home'
                on_tab_press: app.root.current_screen.enter_tab(self)
                on_leave: app.root.current_screen.leave_tab(self)

                FloatLayout:
                    size_hint: 1,1
                    spacing : dp(10)

                    MDCard:
                        size_hint: 2, 0.7
                        radius: [dp(500), dp(500), dp(500), dp(500)]
                        pos_hint: {'center_x': 0.7, 'center_y': 0.95}
                        elevation: 0
                        md_bg_color: 201/255,103/155,240/255,0.7

                    MDCard:
                        size_hint: 2, 0.75
                        radius: [dp(500), dp(500), dp(500), dp(500)]
                        pos_hint: {'center_x': 0.7, 'center_y':0.95}
                        elevation: 0
                        md_bg_color: 201/255,103/155,240/255,0.5

                    MDCard:
                        size_hint: 2, 0.8
                        radius: [dp(500), dp(500), dp(500), dp(500)]
                        pos_hint: {'center_x': 0.7, 'center_y': 0.95}
                        elevation: 0
                        md_bg_color: 201/255,103/155,240/255,0.3

                    
                    BoxLayout:
                        orientation:'horizontal'
                        size_hint: 1,0.25
                        padding:dp(10)
                        spacing:dp(10)
                        pos_hint:{'center_x':0.5,'top':1}

                        MDIconButton:
                            id: icon
                            icon: "account-circle"
                            icon_size: "64dp"
                            pos_hint: {"center_x": 0.5, 'center_y':0.5}
                            theme_icon_color: "Custom"
                            icon_color: "black"


                        GridLayout:
                            rows:2
                            size_hint_y: 0.7
                            pos_hint_y:{'center_y':0.5}
                            MDLabel:
                                text:'Welcome,'
                                font_style:'Subtitle2'
                                valign: 'middle'
                                size_hint_y: None
                                height: self.texture_size[1]

                            MDLabel:
                                text:'USER'
                                font_style:'Subtitle1'
                                font_size:'40sp'
                                valign: 'middle'
                                size_hint_y: None
                                height: self.texture_size[1]

                        MDIconButton:
                            icon:'dots-vertical'
                            pos_hint:{'center_x':1,'top':1}


                    GridLayout:
                        cols:2
                        padding: dp(10)
                        spacing: dp(10)
                        size_hint: 1, 0.15
                        pos_hint:{'top': 0.8}

                        MDCard: 
                            md_bg_color: 1,1,1,0.3
                            MDIconButton:
                                icon:'calendar-clock'
                                icon_size: "30dp"
                                pos_hint: {"center_x": 0.5, 'center_y':0.5}
                                theme_icon_color: "Custom"
                                icon_color: "blue"

                            GridLayout:
                                rows:2
                                size_hint_y: 0.8
                                pos_hint_y:{'center_y':0.7}

                                MDLabel:
                                    text:'Next Session:'
                                    font_size: '12sp'
                                    size_hint_y: None
                                    height: self.texture_size[1]

                                MDLabel:
                                    text:'00:00:00'
                                    font_size: '23sp'
                                    size_hint_y: None
                                    height: self.texture_size[1]

                        MDCard: 
                            md_bg_color: 1,1,1,0.3

                            MDIconButton:
                                icon:'server-off' #use'server' for online mode
                                icon_size: "30dp"
                                pos_hint: {"center_x": 0.5, 'center_y':0.5}
                                theme_icon_color: "Custom"
                                icon_color: "red"

                            BoxLayout:
                                orientation:'vertical'
                                size_hint_y:0.5
                                pos_hint:{'center_y':0.6}

                                MDLabel:
                                    text:'Offline Mode'
                                    font_size: '16sp'
                                    size_hint_y: None
                                    height: self.texture_size[1]


                    BoxLayout:
                        orientation:'vertical'
                        padding: dp(20)
                        spacing: dp(10)
                        size_hint: 1, 0.2
                        pos_hint:{'top':0.55}

                        MDCard: 
                            md_bg_color: 1,194/255,234/255,1
                            MDFlatButton:
                                text:'hello'

#------------------------------------------------------------------------------------------------------

            MDBottomNavigationItem:
                id: consult_tab
                name:'Consult'
                text:'Consult'
                icon:'message-outline'
                on_tab_press: app.root.current_screen.enter_tab(self)
                on_leave: app.root.current_screen.leave_tab(self)

#-------------------------------------------------------------------------------------------------------

            MDBottomNavigationItem:
                id: community_tab
                name:'Community'
                text:'Community'
                icon:'account-group-outline'
                on_tab_press: app.root.current_screen.enter_tab(self)
                on_leave: app.root.current_screen.leave_tab(self)